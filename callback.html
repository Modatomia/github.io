<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Procesando autenticación - Modatomía</title>
    <script src="https://cdn.auth0.com/js/auth0-spa-js/2.1.2/auth0-spa-js.production.js"></script>
  </head>
  <body>
    <p>Procesando autenticación, por favor espere...</p>
    <script>
      async function handleCallback() {
        try {
          const auth0Client = await auth0.createAuth0Client({
            domain: "dev-ao28w8mm01qxvpqa.us.auth0.com",
            client_id: "POytIwtV3rWDTkS4apTJCeMzhVqX8v1e",
          });

          await auth0Client.handleRedirectCallback();
          window.location.href = "/";
        } catch (error) {
          console.error("Error en callback:", error);
          window.location.href = "/?error=callback_error";
        }
      }

      handleCallback();
    </script>
  </body>
</html>
